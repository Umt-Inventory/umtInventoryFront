<body class="auth">
    <div class="page-container">
        <div class="login-body-container">
            <div class="login-header">
                <p class="login-title">{{ userId === '0' ? 'Shto përdorues' : 'Modifiko përdorues' }}</p>
            </div>
            <form [formGroup]="myForm" class="forma">
                <mat-form-field appearance="outline" class="bisha" hideRequiredMarker>
                    <mat-label for="email">Email</mat-label>
                    <input matInput type="email" formControlName="email" placeholder="Email" autocomplete="off" />
                    <mat-error *ngIf="myForm.controls['email'].invalid">Email i pasaktë</mat-error>
                </mat-form-field>
                <mat-form-field appearance="outline" class="bisha" hideRequiredMarker>
                    <mat-label for="name">Emri</mat-label>
                    <input matInput type="text" formControlName="name" placeholder="Emri" autocomplete="off" />
                    <mat-error *ngIf="myForm.controls['name'].invalid"> Emri nuk mund të jetë bosh </mat-error>
                </mat-form-field>
                <mat-form-field appearance="outline" class="bisha" hideRequiredMarker>
                    <mat-label for="surname">Mbiemri</mat-label>
                    <input matInput type="text" formControlName="surname" placeholder="Mbiemri" autocomplete="off" />
                    <mat-error *ngIf="myForm.controls['surname'].invalid"> Mbiemri nuk mund të jetë bosh </mat-error>
                </mat-form-field>
                <mat-form-field appearance="outline" class="bisha" hideRequiredMarker>
                    <mat-label for="phone">Nr telefoni</mat-label>
                    <input matInput type="text" formControlName="phone" placeholder="Nr telefoni" autocomplete="off" />
                </mat-form-field>

                <mat-form-field appearance="outline" class="bisha" *ngIf="userId === '0'" hideRequiredMarker>
                    <mat-label for="password">Fjalëkalimi</mat-label>
                    <input
                        matInput
                        [type]="hide ? 'password' : 'text'"
                        formControlName="password"
                        placeholder="Fjalëkalimi" />
                    <button
                        mat-icon-button
                        matSuffix
                        (click)="hide = !hide"
                        [attr.aria-label]="'Hide password'"
                        [attr.aria-pressed]="hide">
                        <mat-icon>{{ hide ? 'visibility_off' : 'visibility' }}</mat-icon>
                    </button>
                    <mat-error *ngIf="myForm.controls['password'].invalid"> Duhen 8 karaktere</mat-error>
                </mat-form-field>

                <mat-form-field appearance="outline" class="bisha">
                    <mat-label>Roli</mat-label>
                    <mat-select formControlName="role">
                        <mat-option *ngFor="let role of userRoles" [value]="role">{{ role }}</mat-option>
                    </mat-select>
                    <mat-error *ngIf="myForm.controls['role'].invalid"> Zgjidhni </mat-error>
                </mat-form-field>
                <button (click)="onSubmit()" [disabled]="!myForm.valid" class="button button-full">
                    {{ userId === '0' ? 'Shto përdorues' : 'Ruaj' }}
                </button>
            </form>
        </div>
    </div>
</body>
